@using Microsoft.AspNetCore.Identity
@using CourseProject.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager


@{ 
    ApplicationUser currentUser = new ApplicationUser();
    if (User.Identity.Name!=null)
    {
        currentUser = await UserManager.FindByEmailAsync(User.Identity.Name) ?? new ApplicationUser();
    }
}

@if (SignInManager.IsSignedIn(User))
{
        <ul class="nav navbar-nav navbar-right">
            
            <li>
                @Html.ActionLink(Localizer["PersonalArea"].Value, "PersonalArea","Home", new { id = currentUser.Id })
               
            </li>
            @if (User.IsInRole("Admin"))
            {
                <li>
                    <a asp-area="" asp-controller="Manage" asp-action="UsersList" title="Manage">@Localizer["AdminPanel"]</a>
                </li>
            }
                <form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm" class="navbar-right">
                    <button type="submit" class="btn btn-link navbar-btn navbar-link" style="margin-right:30px;">@Localizer["LogOut"] </button>
                </form>
        </ul>
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li><a asp-area="" asp-controller="Account" asp-action="Register">@Localizer["Register"]</a></li>
        <li><a asp-area="" asp-controller="Account" asp-action="Login">@Localizer["LogIn"]</a></li>
    </ul>
}
